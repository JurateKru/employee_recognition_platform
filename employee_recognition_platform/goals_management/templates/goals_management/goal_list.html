{% extends 'base.html' %}
{% load static %}
{% block stylesheet %}<link rel='stylesheet' href="{% static 'css/style.css' %}">{% endblock stylesheet %}
{% block title %}My Goals{% endblock title %}
{% block content %}
<div class= "requests">
    <h1>My Goals:</h1>
    {% if goal_list %}
    <ul> 
        {% for goal in goal_list %}
            <li><a href="{% url 'goal_detail' goal.pk %}">Goal: #{{ goal.id }}, {{goal.title}}</a>
                <br><i> Status - </i>
                {% if goal.status == 0 %} 
                    <span style="color: orange;"><strong> Planned</strong></span>
                {% elif goal.status == 1 %} 
                    <span style="color: rgb(35, 80, 186);"><strong> In progress</strong></span>
                {% elif goal.status == 2 %} 
                    <span style="color: green;"><strong> Complete</strong></span>
                {% elif goal.status == 3 %} 
                    <span style="color: grey;"><strong> On hold</strong></span>
                {% elif goal.status == 4 %} 
                    <span style="color: red;"><strong> Cancelled</strong></span>
                {% else %}
                {% endif %}
                <br><i> Progress - </i>
                <div class="progress-bar">
                    <div class="progress-bar-all"></div>
                    <div class="progress-bar-goal" style="width: {{ goal.progress }}%;"></div>
                    <div class="start-text">Start 0%</div>
                    <div class="end-text">Goal 100%</div>
                    <div class="current-text">Current {{ goal.progress }}%</div>
                  </div>
            </li>
        {% endfor %} 
    </ul>
    {% else %}
        <p>No goals found</p>
    {% endif %}
        <a class='button' href="{% url 'create_goal' %}">Create Goal</a>
{% endblock content %}
</div>